---
title: "Untitled"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
runtime: shiny
---

```{r setup, include=FALSE}
#library(flexdashboard)
library(shiny)
library(ggplot2)
library(dplyr)
library(readr)
#install.packages(ECharts2Shiny)
library(ECharts2Shiny)


dataset <- read_csv("US Police shootings in from 2015-22_alt_race.csv")
```


## Tab 1 
### Input

```{r}

# Create a tabbed interface
tabsetPanel(
  # Tab 1
  tabPanel("Box Plot", 
           # Render the box plot in Tab 1
           plotOutput("box_plot")),
  
  
  
  # Tab 2
  tabPanel("Geo Plot", 
           # Render the geo plot in Tab 2
           plotOutput("geo_plot"))
)



```


## Output

```{r}


data_subset <- reactive({
  dataset %>%
    filter(
      race %in% input$race
    )
})



# Render the plot 

checkboxGroupInput("race", "Race", choices = c("Asian","Black", "Hispanic", "Non-His / Lat", "Other", "Pacific Islander", "White"),
                   selected = c("Asian","Black", "Hispanic", "Non-His / Lat", "Other", "Pacific Islander", "White"), inline = TRUE)
renderPlot({
  ggplot(data_subset(), aes(x = race, y = age, color = factor(race))) +
    geom_boxplot()
})



```

## Tab 2
## Filter {.slidebar}
```{r}
#sliderInput("age", "Age",
    #        min = min(2), max = max(92),
    #        value = range(2,92))

#selectInput("filter_variable", "Filter by:", 
           # choices = c("Asian","Black", "Hispanic", "Non-His / Lat", "Other", "Pacific Islander", "White"), 
           # selected = c("Asian","Black", "Hispanic", "Non-His / Lat", "Other", "Pacific Islander", "White"))

```

```{r}
# Render the plot 

selectInput("filter_variable", "Filter by:", 
            choices = c("Asian","Black", "Hispanic", "Non-His / Lat", "Other", "Pacific Islander", "White"), 
            selected = c("Asian","Black", "Hispanic", "Non-His / Lat", "Other", "Pacific Islander", "White"))
output$plot2 <- renderPlot({
  filtered_data <- dataset %>%
    filter(filter_variable == input$filter_variable)
    
  ggplot(filtered_data, aes(x = filter_variable, y = dataset$state)) +
    geom_point()
})
```
